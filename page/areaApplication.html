<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>片区申请</title>
	<link rel="stylesheet" href="../css/mui.min.css">
	<link rel="stylesheet" href="../css/iconfont.css">
	<link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8"/>
	<link rel="stylesheet" href="../plugins/layer/theme/default/layer.css" type="text/css" charset="utf-8"/>
	<script src="../js/jquery-3.3.1.min.js"></script>
	<script src="../js/bootstrap.min.js"></script>
	<script src="../plugins/layer/layer.js"></script>
	<script src="../js/hammer.min.js"></script>
	<script src="../js/jquery.hammer.js"></script>
	<script src="../js/common.js"></script>
	<script src="../js/base.js"></script>
    <script src="../js/mui.min.js"></script>
    <style type="text/css">
        .topAlertIfo{
            font-size: .8rem;
            padding: 15px;
        }
        .mui-content{
            background-color: #ffffff;
        }
        .application-Box{
            overflow: hidden;
            margin-bottom: 0;
            margin: 15px;
            padding-top: 1rem;
        }
        .application-Box .inputBox{
            position: relative;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        .application-Box .inputBox i{
            font-size: 1rem;
            position: absolute;
            left: 10px;
            line-height: 2.5rem;
            color: #000;
        }
        .application-Box input{
            display: block;
            border: none;
            background: #F0F1F3;
            padding-left: 80px;
            border-radius: 20px;
            font-size: .9rem;
        }
        .application-Box input:focus{
            outline: none;
        }
        .getCode{
            position: absolute;
            right: 10px;
            top: .7rem;
            color: #333;
            font-size: .8rem;
        }

        #submitBtn{
            display: block;
            width: 100%;
            position: fixed;
            bottom: 0;
            background-color: #FF7546;
            height: 60px;
            color: #ffff;
        }




    </style>

</head>
<body style="background: #fff">

    <header class="mui-bar mui-bar-nav">
        <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
        <h1 class="mui-title">片区申请</h1>
    </header>

    <div class="mui-content" style="background: #fff;    padding-bottom: 100px;">

        <div class="topAlertIfo">
            请正确填写信息，信息提交后，客服人员会与您取得联系
        </div>

        <div class="application-Box">
            <div class="inputBox">
                <i class="iconfont">片区名称</i>
                <input type="text" name="name" placeholder="请输入片区名称" />
            </div>
            <div class="inputBox">
                <i class="iconfont">地理位置</i>
                <input type="text" id="address" name="address" placeholder="请选择" />
                <span class="getCode" id="map"  onclick="clicked('map.html')">选择位置</span>
            </div>

            <div class="inputBox">
                <i class="iconfont">经度</i>
                <input type="text" id="latitude" name="latitude" placeholder="请输经度" />
            </div>

            <div class="inputBox">
                <i class="iconfont">纬度</i>
                <input type="text"  id="longitude" name="longitude" placeholder="请输入纬度" />
            </div>

            <div class="inputBox">
                <i class="iconfont">电价</i>
                <input type="text"  id="electricPrice" name="electricPrice" placeholder="请输入电价" value="0.8" onclick="validationNumber(this,2)" />
            </div>
        </div>

        <button id="submitBtn">
                下一步
        </button>
    </div>

	<script type="text/javascript">
        mui.init();

        if(window.plus){
            pagePlusReady();
        }else{
            document.addEventListener('plusready',pagePlusReady,false);
        }
        function pagePlusReady(){


        }

        function fullAddress( latitude,longitude,address) {
            console.log("fullAddress=========address"+address);
            console.log("fullAddress=========latitude"+latitude);
            console.log("fullAddress=========longitude"+longitude);

            $("#latitude").val(latitude);
            $("#longitude").val(longitude);
            $("#address").val(address);


        }


        $("#submitBtn").click(function(){
            var contacts = $("input[name='contacts']").val();
            if(!vaildeParam(contacts)){
                layer.msg("联系人不能为空");
                return;
            }
            var mobile = $("input[name='mobile']").val();
            if(!vaildeParam(mobile)){
                layer.msg("联系电话不能为空");
                return;
            }
            var numbers = $("input[name='numbers']").val();
            if(!vaildeParam(numbers)){
                layer.msg("预估安装数量不能为空");
                return;
            }
            var installAddress = $("input[name='installAddress']").val();
            if(!vaildeParam(installAddress)){
                layer.msg("申请发展地区不能为空");
                return;
            }
            var data = {
                "contacts":contacts,
                "mobile":mobile,
                "numbers":numbers,
                "installAddress":installAddress
            }
            postJSON(API_URL.ApiApplyBusinessSaveApplyBusiness,data,function(res){
                if("0" == res.code){
                    layer.msg("您的申请，我们已经收到，请耐心等候");
                    setTimeout(function(){
                        back();
                    },3000);
                }else{
                    layer.msg(res.msg);
                }
            });
        });

	</script>
</body>
</html>