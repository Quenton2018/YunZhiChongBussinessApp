<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>申请片区</title>
    <link rel="stylesheet" href="../css/iconfont.css">
    <link rel="stylesheet" href="../css/mui.min.css">
    <link rel="stylesheet" href="../css/mui.picker.min.css">
    <link rel="stylesheet" href="../css/areacommon.css" type="text/css" charset="utf-8"/>
    <link rel="stylesheet" href="../plugins/layer/theme/default/layer.css" type="text/css" charset="utf-8"/>   
	<script src="../js/jquery-3.3.1.min.js"></script>
	<script src="../js/bootstrap.min.js"></script>
	<script src="../plugins/layer/layer.js"></script>
	<script src="../js/hammer.min.js"></script>
	<script src="../js/jquery.hammer.js"></script>
	<script src="../js/common.js"></script>
	<script src="../js/base.js"></script>
    <script src="../js/mui.min.js"></script>
    <script src="../js/mui.picker.all.js"></script> 
    <script src="../js/wangyi-rem.js"></script>
    <script src="../js/artTemplate.min.js"></script>
    
    <style type="text/css" scoped="scoped">
        body {
        	background-color: #f2f2f2;
        }
        .header {
        	position: relative;
        }
        .header .img_revision {
        	width: 2rem;
        	position: absolute;
        	top: 0.7rem;
        	right: 0;
        }
        .setmenu {
        	width: 3rem;
        	padding: 1.5rem;
        	position: absolute;
        	top: 0.2rem;
        	right: 0;
        	
        }
        .address_wrap,.combo_type {
        	width: 37.5rem;
        	background-color: #fff;
        }
        .address_wrap {
        	margin-top: 7.4rem;
        	overflow: hidden;
        }
        .combo_type {
        	margin-top: 1rem;
        	border-bottom: 0.1rem solid #dce1e6;
        }
        .address,.combo {
        	width: 34.3rem;
        	margin: 0 auto;
        	position: relative;
        }
        .address {
        	margin-top: 1.6rem;
        	margin-bottom: 1.6rem;
        }
        .address_left span,.address_right span {
        	font-size: 1.5rem;
        	text-align: center;
        }
        .address_left {
        	float: left;
        	color: rgb(122,125,128);
        }
        .address_right {
        	float: right;
        	color: rgb(51,51,51);
        }
        /*套餐类型*/
		.combo {
			padding: 1.6rem 0;
			text-align: center;
		}
		.combo_left {
			float: left;
			font-size: 1.5rem;
		}
		.combo_right {
			float: right;
			font-size: 1.2rem;
			margin-top: 0.2rem;
		}
		.combo_left span,.combo_right span {
			color: #7a7d80;
		}
		.combo_type .combo .combo_center {
			width: 9rem;
			height: 2.4rem;
			/*border: 0.1rem solid #b5b5b5;*/
			position: absolute;
			top: 1rem;
			left: 0rem;
			line-height: 2.4rem;
			font-size: 1.5rem;
			color: #ff6d22;
			text-align: left;
			padding-left: 1rem;
			outline: none;
		}
		.combo_center_big  div{
			width: 10.2rem;
			height: 2.4rem;
			display: block;
			border: 0.1rem solid #b5b5b5;
			background-color: #fff;
			margin-left: -1.1rem;
			box-sizing: border-box;
			padding-left: 0.9rem;
		}
		
		.clear {
			clear: both;
		}
		.combo .combo_center:hover .combo_center_big div {
			display: block;
		}
		.combo_center_big img {
			width: 1.5rem;
			height: 0.75rem;
/*			margin-left: 0.8rem;*/
			vertical-align: middle;
			position: absolute;
			top: 0.9rem;
			right: 0;
		}
		/*阶梯类型*/
		.ladder_wrap {
			width: 37.5rem;
			background-color: #fff;
			overflow: hidden;
		}
		.ladder {
			width: 37.5rem;
			height: 2.6rem;
			line-height: 2.6rem;
			font-size: 1.2rem;
			text-align: center;
			margin-top: 0.45rem;
			border-bottom: 0.2rem solid #ff6d22;
		}
		.ladder_left,.ladder_center,.ladder_right,.ladder_duration {
			height: 2.6rem;
			text-align: center;
			line-height: 2.6rem;
			color: #808080;
			font-size: 1.5rem;
		}
		.ladder_left,.ladder_center,.ladder_duration {
			float: left;
		}
		.ladder_right {
			float: right;
		}
		.ladder_left {
			width: 8.5rem;
		}
		.ladder_center {
			width: 12rem;
		}
		.ladder_duration {
			width: 6.5rem;
		}
		.ladder_right {
			width: 10.5rem;
		}
		/*背景字体公用样式*/
		.bg_style {
			background: url(../images/area/trapezoid.png) center center no-repeat;
			background-size: 100% 100%;
			color: #fff;
		}
		/*end*/
		.grade_wrap {
			width: 37.5rem;
			margin-top: 1rem;
			border-top: 0.1rem solid #dce1e6;
			background-color: #fff;
			margin-bottom: 8rem;
		}
		.grade {
			width: 34.5rem;
			margin: 1.5rem auto;
			padding-bottom: 1.5rem;
		}
		.grade_kw,.grade_cost,.grade_price {
			height: 1.5rem;
			text-align: left;
		}
		.grade_kw,.grade_cost {
			float: left;
		}
		.grade_kw {
			margin-right: 5.4rem;
		}
		.grade_price {
			float: right;
		}
		.grade_kw span:first-child,.grade_cost span:first-child,.grade_price span:first-child {
			font-size: 1.5rem;
			color: rgb(122,125,128);
		}
		.grade_kw span:last-child,.grade_cost span:last-child,.grade_price span:last-child {
			font-size: 1.2rem;
			color: rgb(122,125,128);
		}
		/*100以下*/
		.least_wrap,.least_second {
			width: 34.5rem;
			/*height: 1.5rem;*/
			margin: 0 auto;
			padding-bottom: 1.2rem;
		}
		.least_second {
			padding-top: 1.2rem;
			border-top: 0.1rem dashed #808080;
		}
		/*修改第一条和最后一天上下间隙*/
		.least_second:first-child {
			border-top-width:0;
			margin-top: -2rem;
		}
		.least_second:last-child {
			padding-bottom: 0;
		}
		/*修改结束*/
		.least_left,.least_center,.least_right {
			float: left;
			font-size: 1.5rem;
			color: #333333;
			line-height: 1.5rem;
		}
		.least_left {
			width: 12rem;
		}
		.least_right {
			width: 8rem;
		}
		.least_center {
			width: 11.5rem;
			text-align: left;
			padding-left: 3rem;
		}
		.least_left {
			overflow: hidden;
		}
		.least_left div {
			float: left;
		}
		.least_left .circle {
			width: 1.5rem;
			height: 1.5rem;
			border-radius: 50%;
			box-sizing: border-box;
			border: 1px solid #484848;
			margin-right: 1rem;
			text-align: center;
			line-height: 1.5rem;
		}
		.least_right {
			text-align: right;
		}
		/*充满最大配置*/
		.maximum_wrap {
			width: 37.5rem;
			margin-top: 1rem;
			border-top: 0.1rem solid #dce1e6;
			background-color: #fff;
			margin-bottom: 8rem;
		}
		.maximum {
			width: 34.5rem;
			margin: 1.5rem auto;
			margin-bottom: 0;
			padding-bottom: 0rem;
		}
		.maxparticulars {
			padding-bottom: 1.2rem;
		}
		.max_wrap {
			width: 34.5rem;
			height: 1.5rem;
			margin: 0 auto;
			margin-top: 2rem;
		}
		.max_wrap:last-child {
			margin-bottom: 0;
		}
		.max_left,.max_center,.max_right {
			float: left;
			font-size: 1.5rem;
			color: #333333;
			line-height: 1.5rem;
			text-align: left;
			box-sizing: border-box;
		}
		.max_left {
			width: 12rem;
			padding-left: 3rem;
		}
		.max_right {
			width: 8rem;
			padding-left: 2.5rem;
		}
		.max_center {
			width: 14.5rem;
			padding-left: 5rem;
		}
		
		/*合伙人设置*/
		.partner_wrap {
			width: 37.5rem;
			margin-top: 1rem;
			border-top: 0.1rem solid #dce1e6;
			background-color: #fff;
			margin-bottom: 8rem;
		}
		.partner {
			width: 34.5rem;
			margin: 1.5rem auto;
			padding-bottom: 0rem;
		}
		.partner_ID,.partner_breakdown {
			width: 17.25rem;
			height: 1.5rem;
			color: #7a7d80;
			text-align: center;
			float: left;
		}
		.partner_ID span:first-child,.partner_breakdown span:first-child {
			font-size: 1.5rem;
		}
		.partner_breakdown span:last-child,.partner_ID span:last-child {
			font-size: 1.2rem;
		}
		.username_particulars {
			width: 34.5rem;
			margin: 0 auto;
			padding-bottom: 1rem;
		}
		.myself_particulars {
			width: 34.5rem;
			margin: 0 auto;
			padding: 1.4rem 0;
			border-top: 0.1rem dashed #808080;
		}
		.myself_particulars:first-child {
			border-top: 0;
			margin-top: -0.5rem;
		}
		.username_left,.username_center,.username_right {
			float: left;
			font-size: 1.5rem;
			width: 11.5rem;
			text-align: left;
			color: #333333;
		}
		.username_right {
			box-sizing: border-box;
			text-align: center;
			padding-left: 3rem;
		}
		/*时长区*/
		.duration_wrap {
			width: 37.5rem;
			margin-top: 1rem;
			border-top: 0.1rem solid #dce1e6;
			background-color: #fff;
			margin-bottom: 8rem;
		}
		.duration {
			width: 34.5rem;
			margin: 1.5rem auto; 
		}
		.num_wrap,.num_two_wrap {
			width: 34.5rem;
			margin: 0 auto;
		}
		.num_two_wrap {
			border-top: 0.1rem dashed #808080;
			line-height: 1.5rem;
			padding: 1.2rem 0;
		}
		.num_two_wrap:first-child {
			padding-top: 0;
		}
		.num_two_wrap:first-child {
			border-top-width: 0
		}
		.num_left,.num_center {
			float: left;
			font-size: 1.5rem;
			color: #333333;
			
			text-align: center;
			box-sizing: border-box;
		}
		.num_left {
			width: 12rem;
			padding-left: 2.5rem;
		}
		.num_center {
			width: 14.5rem;
			padding-left: 12rem;
		}
		.num_center span {
			display: inline-block;
			width: 4rem;
		}
		.duration_kw {
			height: 1.5rem;
			text-align: left;
		}
		.duration_cost {
			/*text-align: center;*/
			box-sizing: border-box;
			padding-left: 5rem;
		}
		.duration_kw,.duration_cost {
			width: 9.5rem;
			float: left;
		}
		.duration_price {
			width: 15.5rem;
			float: right;
			text-align: right;
		}
		.duration_kw span:first-child,.duration_cost span:first-child,.duration_price span:first-child {
			font-size: 1.5rem;
			color: rgb(122,125,128);
		}
		.duration_kw span:last-child,.duration_cost span:last-child,.duration_price span:last-child {
			font-size: 1.2rem;
			color: rgb(122,125,128);
		}
		
		
		
		/*下拉*/
		/*.mui-pciker-rule,.mui-pciker-rule-ft {
			display: none;
			height: 2.5rem;
		}
		.mui-pciker-list {
			height: 2.5rem;
		}
		.mui-pciker-list .visible,.mui-pciker-list .highlight {
			height: 2.5rem;
			font-size: 1.8rem;
		}
		.visible {
			margin-top: -15px;
		}
		.highlight {
			margin-top: -8px;
		}*/
		/*下拉最大box*/
		.mui-poppicker.mui-active {
			height: 13.5rem;
			border-top-left-radius: 0.5rem;
			border-top-right-radius: 0.5rem;
		}
		/*下拉-我的套餐*/
		.mymeal {
			width: 100%;
			height: 4.5rem;
			border-bottom: 0.1rem solid #c4c4c4;
			box-sizing: border-box;
			padding-left: 2.5rem;
			line-height: 4.5rem;
			font-size: 1.5rem;
			color: #404040;
		}
		.addmeal,.setmeal {
			width: 100%;
			height: 4.5rem;
			font-size: 1.5rem;
			
		}
		.addmeal span,.setmeal span {
			display: inline-block;
			height: 4.5rem;
			position: absolute;
			left: 7.5rem;
			line-height: 4.6rem;
		}
		.addmeal img,.setmeal img {
			width: 2.5rem;
			height: 2.5rem;
			margin-left: 4rem;
			margin-top: 1.1rem;
		}
		.line {
			border-top: 0.1rem solid #c4c4c4;
			width: 80%;
			position: absolute;
			top: 9rem;
			right: 0;
		}
		
    </style>

</head>
<body>
	<!--头部-->
	<header class="header_wrap">
		<div class="header">
			<div class="header_left" id="back">
				<img src="../images/pianqushenqing/faihui@3x.png"/>
			</div>
			<div class="header_right">
				<div id="address">{{address}}</div>
			</div>
			<div class="setmenu"><img class="img_revision" src="../images/area/set.png" alt="设置菜单" /></div>
		</div>
	</header>
	<!--地址-->
	<div class="address_wrap">
		<div class="address">
			<div class="address_left">
				<span>地址</span>
			</div>
			<div class="address_right">
				<span id="site">{{site}}</span>
			</div>
			<div class="clear"></div>
		</div>
	</div>
	<!--套餐类型-->
	<div class="combo_type">
		<div class="combo">
			<div class="combo_center">
				<div class="combo_center_big">
					<div class="select">基本套餐 </div>
					<img src="../images/area/bottom_jt.png" alt="下拉箭头" />
					<div class="SetMeal">
						
					</div>
				</div>
			</div>
			<div class="combo_right">
				<span id="setmealType"></span>
			</div>
			<div class="clear"></div>
		</div>
	</div>
	<!--阶梯价格-->
	<div class="ladder_wrap">
		<div class="ladder flex">
			
		</div>
	</div>
	<!--阶梯价格里面的功率-->
	<div class="grade_wrap hideorshow1" style="display: block;" id="eles">
		<div class="grade">
			<div class="grade_kw">
				<span>功率</span>
				<span>(W)</span>
			</div>
			<div class="grade_cost">
				<span>最大成本</span>
				<span>(元/小时)</span>
			</div>
			<div class="grade_price">
				<span>价格</span>
				<span>(元/小时)</span>
			</div>
			<div class="clear"></div>
		</div>
		<!--100以下-->
		<div id="diaoqu">
			<div class="least_wrap"></div>
			
		</div>
	</div>
	
	<!--充满最大配置-->
	<div class="maximum_wrap hideorshow1" style="display: none;" id="fullStop">
		<div class="maximum">
			<div class="grade_kw">
				<span>最大电量</span>
				<span>(度)</span>
			</div>
			<div class="grade_cost">
				<span>最大时长</span>
				<span>(小时)</span>
			</div>
			<div class="grade_price">
				<span>最多扣款</span>
				<span>(元)</span>
			</div>
			<div class="clear"></div>
		</div>
		<div class="maxparticulars">
			
		</div>
	</div>
	
	<!--时长区-->
	<div class="partner_wrap hideorshow1" style="display: none;" id="charges">
		<div class="partner">
			<div class="partner_ID">
				<span>最多扣款</span>
				<span>(元)</span>
			</div>
			<div class="partner_breakdown">
				<span>时长</span>
				<span>(小时)</span>
			</div>
			<div class="clear"></div>
		</div>
		<!--公司账户-->
		<div class="personlist">
			
		</div>
	</div>
	<!--合伙人设置-->
	<div class="duration_wrap hideorshow1" style="display: none;" id="partners">
		<div class="duration">
			<div class="duration_kw">
				<span>姓名</span>
				<span></span>
			</div>
			<div class="duration_cost">
				<span>账号</span>
				<span></span>
			</div>
			<div class="duration_price">
				<span>分成</span>
				<span>(元/%)</span>
			</div>
			<div class="clear"></div>
		</div>
		<div class="setting">
			
		</div>
	</div>
	
	<script type="text/html" id="comboTmpl" >
		{{each list as item i}}
        	<div class="select1" data-type="{{item.id}}">{{item.name}}</div>
    	{{/each}}
	</script>
	
	<script type="text/html" id="headTmpl" >
		{{each list as item index}}
        	<div class="{{if index==0}}bg_style{{/if}} overorhide flex-item" data-type="{{item.type}}">
				{{item.title}}
			</div>
    	{{/each}}
	</script>
	
	<!--阶梯价格-->
	<script type="text/html" id="elesTmpl" >
		{{each list as item index}}
		<div class="least_second">
			<div class="least_left">
				<div class="circle">
					<span>{{index+1}}</span>
				</div>
				<div>
					{{if item.max>1200}}
						<span>1200以上</span>
					{{else if item.min <=0}}
						<span>100以下</span>
					{{else}}
					<span>{{item.min}}-{{item.max}}</span>
					{{/if}}
				</div>
			</div>
			<div class="least_center">
				<span>{{item.cost}}</span>
			</div>
			<div class="least_right">			
				<span>{{item.amount}}</span>				
			</div>
			<div class="clear"></div>
		</div>
		{{/each}}
	</script>
	<!--充满最大配置-->
	<script type="text/html" id="maxEnergy">
		<div class="max_wrap">
			<div class="max_left">
				<span>{{list.power}}</span>
			</div>
			<div class="max_center">
				<span>{{list.minutes}}</span>
			</div>
			<div class="max_right">
				<span>{{list.amount}}</span>
			</div>
			<div class="clear"></div>
		</div>
	</script>
	<!--时长区-->
	<script type="text/html" id="cooperation">
		{{each list as item index}}
		<div class="num_two_wrap">
			<div class="num_left">
				<span>{{item.amount}}</span>
			</div>
			<div class="num_center">
				<span>{{item.minutes}}</span>
			</div>
			<div class="clear"></div>
		</div>
		{{/each}}
	</script>
	<!--合伙人设置-->
	<script type="text/html" id="personList">
		{{each list as item index}}
		<div class="myself_particulars">
			<div class="username_left">
				<span>{{item.name}}</span>
			</div>
			<div class="username_center">
				<span>{{item.mobile}}</span>
			</div>
			<div class="username_right">
				<span>{{item.divideRatio}}</span>
			</div>
			<div class="clear"></div>
		</div>
		{{/each}}
	</script>
	
	<script type="text/javascript">
	var code = getQueryString('code');
	var ws=null;
    // 处理沉浸式状态栏
    var topoffset=0;
    var ms=(/Html5Plus\/.+\s\(.*(Immersed\/(\d+\.?\d*).*)\)/gi).exec(navigator.userAgent);
    if(ms&&ms.length>=3){
        topoffset=parseFloat(ms[2]);
    }
    
    if(window.plus){
        pagePlusReady();
    }else{
        document.addEventListener('plusready',pagePlusReady,false);
    }

    function pagePlusReady(){
        console.log("## pagePlusReady ##");
//      var uuid = plus.storage.getItem("uuid");
//  	console.log("## GetCompanyAccount ## uuid:"+uuid);
//      getQueryString(name)
//      getList();
        
        ws=plus.webview.currentWebview();
        if(plus.navigator.isImmersedStatusbar()){// 兼容沉浸式状态栏模式
            topoffset=Math.round(plus.navigator.getStatusbarHeight());
        }
        ws.setPullToRefresh({support:true,style:'circle',offset:topoffset+45+'px'},onRefresh);
    }

    // 刷新页面
    function onRefresh(){
        console.log("## onRefresh ##");
        getSetmeal();
        getSelectmeal(mealID);
        ws.endPullToRefresh();
    }
    var comboData = [];
    getSetmeal()
  	function getcomboData(comboData){
  		var data = {'list':comboData};
  		var comboHtml = template('comboTmpl', data);
  		$('.SetMeal').html(comboHtml);
  		
//		document.getElementById('content').innerHTML = html;
  	}
  	var HeadData = [];
  	function getHeadData(HeadData){
  		var data = {'list':HeadData};
  		var headHtml = template('headTmpl', data);
  		$('.ladder').html(headHtml);
  		var type = $('.overorhide').eq(0).attr('data-type');
		$('.hideorshow1').hide();
		$('#'+type).show()
  	}
//	var elesData = [];
  	function getElesData(eles){
  		var data = {'list':eles};
  		var elesHtml = template('elesTmpl', data);
  		$('.least_wrap').html(elesHtml);
  	}
  	function getFullStopData(fullStop){
  		var data = {'list':fullStop};
  		var fullStopHtml = template('maxEnergy', data);
  		$('.maxparticulars').html(fullStopHtml);	
  	}
  	
  	function getChargesData(actualCharges){
  		var data = {'list':actualCharges};
  		var ChargesHtml = template('cooperation', data);
  		$('.personlist').html(ChargesHtml);
  	}
  	
  	
  	function getPartnersData(partners){
		var data = {'list':partners};
		var partnersHtml = template('personList', data);
		$('.setting').html(partnersHtml);
  	}
  	
  	function getAllData(eles,fullStop,actualCharges,advanceCharges,partners){
  		HeadData = [];
  		if(vaildeParam(eles)){
  			HeadData.push({
  				'type':'eles',
  				'title':'阶梯价格'
  			});
  			getElesData(eles);
  		}
  		if(vaildeParam(fullStop)){
  			HeadData.push({
  				'type':'fullStop',
  				'title':'充满最大配置'
  			})
			getFullStopData(fullStop)
  		}
  		if(vaildeParam(actualCharges)||vaildeParam(advanceCharges)){
  			HeadData.push({
  				'type':'charges',
  				'title':'时长区'
  			})
  			getChargesData(actualCharges)
  		}
  		if(vaildeParam(partners)){
  			HeadData.push({
  				'type':'partners',
  				'title':'合伙人设置'
  			})
  			getPartnersData(partners)
  		}
  		getHeadData(HeadData);

  	}
    function getSetmeal() {
//  	
    	postJSON(API_URL.ApiChargingBusinessGetSetmeals, {
    		uuid: '615cd7b2d8f84377bd4d3bcd9bc9f731',
    		code: 42
    	}, function(res) {
    	if("0" == res.code){
    		layer.msg(res.msg)
//  		comboData = [];
    		var itemaddress = res.address;
    		$('#address').text(itemaddress)
    		var itemasite = res.site;
    		$('#site').text(itemasite);
    		var mealTypeText = res.data[0].state;
    		$('#setmealType').text(mealTypeText);
    		$.each(res.data,function(index,item){
    			comboData.push({
    				'id':item.id,
    				'name':item.name
    			})
    		});
    		getcomboData(comboData);
			var eles = res.data[0].eles;
			var fullStop = res.data[0].fullStop;
			var actualCharges = res.data[0].actualCharges;
			var advanceCharges = res.data[0].advanceCharges;
			var partners = res.data[0].partners;
			getAllData(eles,fullStop,actualCharges,advanceCharges,partners);
		}else {
//			layer.msg("操作失败");
		}	
    	});
    }
    
	//修改
		document.querySelector('.setmenu').addEventListener("tap", function() {
	      	var roadPick = new mui.PopPicker();
			$(".mui-poppicker-header").hide();
			$(".mui-picker-inner").hide();
			$(".mui-picker").hide();
			
			var html = '<div>'
							+'<div class="mymeal">'+'我的套餐'+'('+'2'+')'+'</div>'
							+'<div class="addmeal"><img src="../images/area/tianjia.png" alt="添加套餐" /><span>'+'添加套餐'+'</span></div>'
							+'<div class="setmeal"><img src="../images/area/xiugai.png" alt="修改套餐"/><span>'+'修改套餐'+'</span></div>'
							+'<div class="line"></div>'
					   '</div>'
			
			$(".mui-poppicker").html(html)
			
			$(".setmeal").click(function(){
				$(location).attr("href","fullStopAndAdvance.html")
			})
			$(".addmeal").click(function(){
				$(location).attr("href","fullStopAndAdvance.html")
			})
			
	      	roadPick.show(function() {
				
	        });
   		});
    //点击套餐
    
    function getSelectmeal(mealID) {
    	postJSON(API_URL.ApiChargingBusinessGetSetmeal, {
    		uuid: '615cd7b2d8f84377bd4d3bcd9bc9f731',
    		code: 42,
    		setmealId: mealID
    	}, function(res) {
    		console.log(res);
    		var eles = res.data.eles;
			var fullStop = res.data.fullStop;
			var actualCharges = res.data.actualCharges;
			var advanceCharges = res.data.advanceCharges;
			var partners = res.data.partners;
			console.log(partners)
			var mealTypeText = res.data.state;
    		$('#setmealType').text(mealTypeText);
			getAllData(eles,fullStop,actualCharges,advanceCharges,partners);
     	});
     	console.log(mealID)
    }   
  	
	</script>
	
	
	<!--js-->
	<script type="text/javascript">
		//显示隐藏
		$('.ladder').on('click','.overorhide',function(){
			$(this).addClass("bg_style").siblings().removeClass("bg_style")
//			var index = $(this).index();
			var type = $(this).attr('data-type');
			$('.hideorshow1').hide();
			$('#'+type).show()
//			$(".hideorshow1").hide().eq(index).show();
		})
		
		//选择套餐类型
		$(".SetMeal").hide()
		$(".select").click(function(){
			$(".SetMeal").toggle()
		})
		$(".SetMeal").on("tap",".select1",function(){
			$(".SetMeal").hide();
			var text= $(this).text();
			$(".select").text(text);
			
			var mealID = $(this).attr('data-type');
//			console.log(type)
			getSelectmeal(mealID);
		})
		

	</script>
	
</body>
</html>
